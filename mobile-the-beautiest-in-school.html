<!DOCTYPE html>
<html lang="zh-Hant-TW">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>偏執的維納斯_</title>
  <!--Bootstrap CSS-->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;500;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/style_mobile.css">
  <link rel="icon" href="image/webicon.ico" type="image/x-icon" />
  <link rel="shortcut icon" href="image/webicon.ico" type="image/x-icon" />

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    .comic-bg {
      height: 100vh;
      width: 100vw;
      overflow: hidden;
      background-image: url(image/all-need-to-use/content-comic-bg.png);
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center center;
      position: fixed;
      z-index: -100;
    }

    .bg-break {
      background-image: url(image/flower/bg-break.png);
      background-position: center;
      background-size: cover;
      background-attachment: fixed;
      width: 100%;
    }

    .noise-effect {
      background-image: url(image/flower/noise-background.png);
      background-position: center;
      background-size: contain;
      background-repeat: no-repeat;
      width: 100%;
    }

    .write-hw svg {
      position: absolute;
      width: 100%;
      height: 100vh;
      z-index: -1;
      left: 0;
    }

    /*menu*/
    #menu section .menu-bg {
      height: 100%;
      width: 100%;
      overflow: hidden;
      background-image: url(image/all-need-to-use/menu-bg.png);
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center center;
      position: fixed;
      z-index: -100;
    }
  </style>
</head>

<body>
  <div id="rotate">

    <!-- Modal -->
    <div class="modal fade" id="result" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel" style="font-family: sans-serif;">試玩版體驗結束</h5>
          </div>
          <div class="modal-body">
            <h5 style="letter-spacing: 1px;">感謝您的遊玩</h5>
            <h6 style="letter-spacing: 1px;">若有任何心得想分享，歡迎至「我有話要說」留言！</h6>
            <div>
              <img class="pic" src="image/thankyou.png">
            </div>
          </div>
          <div class="modal-footer" style="display: flex; justify-content: center;">
            <a href="mobile-message-page.html"><button type="button"
                class="btn btn-primary modalbutton">前往留言</button></a>
            <a href="mobile-menu.html"><button type="button" class="btn btn-primary modalbutton">探索更多</button></a>
          </div>
        </div>
      </div>
    </div>
    <audio id="audio" src="bgm/maou_bgm_piano29.mp3" loop autoplay></audio>
  <header>
    <div class="all-icon-container">
      <div class="burger icon" id="open-menu-button">
        <div class="icon-size">
          <img src="image/home/buger_icon.png" class="w-100">
        </div>
      </div>
      <div class="sound icon">
        <div class="icon-size">
          <img id="audioToggle" src="image/home/sound_icon.png" class="w-100">
        </div>
      </div>
    </div>
  </header>
    <div class="comic-bg"></div>
    <div class="front-story container">
      <div class="content col-12">
        <img src="image/flower/flower-front.jpg" class="w-100">
      </div>
    </div>
    <div class="noise-effect">
      <div class="container">
        <div class="press2 col-12">
          <img src="image/flower/press2.png" class="w-100">
        </div>
      </div>
    </div>
    <div class="write-hw container">
      <div class="content col-12">
        <img src="image/flower/flower-write-hw-up.jpg" class="w-100">
        <div class="circle-scale-effect">
          <img src="image/flower/flower-write-hw-down.png" class="w-100">
          <svg viewBox="0 0 1920 1080" fill="none" preserveAspectRatio="xMidYMin slice">
            <defs>
              <mask id="circleMask">
                <circle cx="450" cy="250" r="180" fill="white" class="circle" />
              </mask>
            </defs>
            <rect width="1920" height="1080" fill="#000000" width="100%" height="100%" mask="url(#circleMask)" />
          </svg>
        </div>
      </div>
    </div>
    <div class="memory container" style="padding: 0;">
      <div class="content col-12">
        <img src="image/flower/flower-memory.jpg" class="w-100">
      </div>
    </div>
    <div class="parallax-effect" id="parallax-effect-trigger">
      <div class="bg-break">
        <div class="container">
          <div class="row">
            <div class="col-4 ms-auto pic-phone" data-speed="0">
              <img src="image/flower/phone.png" class="w-100">
            </div>
            <div class="col-12 pic-face" data-speed="0.5" style="padding-left: 30%;">
              <img src="image/flower/face.png" class="w-100">
            </div>
          </div>
        </div>
        <div class="container take-care">
          <div class="row">
            <div class="pic-take-care" class="col-12" data-speed="0.8" style="margin-top: 5%;">
              <img src="image/flower/take-care.png" class="w-50">
            </div>
          </div>
        </div>
        <div class="container question-and-react">
          <div class="row">
            <div class="pic-left-face col-3 align-self-center" data-speed="0.2">
              <img src="image/flower/scared.png" class="w-100">
            </div>
            <div class="pic-talking col-4 align-self-center" data-speed="0.6">
              <img src="image/flower/speak1.png" class="w-100">
            </div>
            <div class="pic-right-face col-5 align-self-end" data-speed="1">
              <img src="image/flower/sad.png" class="w-100">
            </div>
          </div>
        </div>
        <div class="container">
          <div class="row">
            <div class="col-4 pic-agree offset-md-2 offset-sm-2" data-speed="0.2" style="margin-top: 5%;">
              <img src="image/flower/agree.png" class="w-100">
            </div>
            <div class="col-5 pic-shocked-up offset-md-1 offset-sm-1" data-speed="-0.1">
              <img src="image/flower/shocked-up.png" class="w-100">
            </div>
            <div class="col-5 pic-hand" data-speed="-0.2">
              <img src="image/flower/hand.png" class="w-100">
            </div>
            <div class="col-6 pic-shocked-down" data-speed="-0.5">
              <img src="image/flower/shocked-down.png" class="w-100">
            </div>
          </div>
        </div>
        <div class="did-not-vote" data-speed="-0.2">
          <img src="image/flower/did-not-vote.png" class="w-100">
        </div>
      </div>
    </div>

    <div class="back-story container">
      <div class="content col-12">
        <img src="image/flower/flower-back.jpg" class="w-100">
      </div>
    </div>
    <div class="pop-effect container" style="margin-top: -10%;">
      <div class="row">
        <div class="col-7">
          <img src="image/flower/flower-back-row1.png" class="w-100">
        </div>
        <div class="col-7 offset-md-1">
          <img src="image/flower/flower-back-row2.png" class="w-100">
        </div>
        <div class="row justify-content-end" style="margin-top: -25%;">
          <div class="col-10">
            <img src="image/flower/flower-back-row3.png" class="w-100">
          </div>
        </div>
      </div>
    </div>
    <div class="go-next-web" style="display: flex; justify-content: center; margin-bottom: 5%;">
      <a href="#" data-bs-toggle="modal" data-bs-target="#result"><button>試玩結束</button></a>
    </div>
    <div id="menu">
      <section>
        <div class="menu-bg"></div>
        <div class="all-icon-container">
          <div class="close icon" id="close-menu-button">
            <div class="icon-size">
              <img src="image/all-need-to-use/burger-close-icon.png" class="w-100">
            </div>
          </div>
        </div>
        <div class="container d-flex">
          <div class="col-12">
            <div class="content-container d-flex justify-content-center align-items-center" style="height: 100vh;">
              <div class="line-content-box">
                <div class="note-layout" style="width: 100%;">
                  <div class="note-date-image d-flex justify-content-end">
                    <img src="image/all-need-to-use/note-date.png" style="width: 10vw; padding-right: 20px;">
                  </div>
                </div>
                <ul style="padding: 0 1.8vw;">
                  <li>
                    <span class="menu-topic-text">目錄<span class="small-size-text">MENU</span></span>
                  </li>
                  <li>
                    <a href="index.html">
                      <div class="menu-option">
                        首頁.
                        <div class="hover-line"></div>
                      </div>
                    </a>
                  </li>
                  <li>
                    <a href="mobile-chapter-list-page.html">
                      <div class="menu-option">
                        劇情章節.
                        <div class="hover-line"></div>
                      </div>
                    </a>
                  </li>
                  <li>
                    <a href="mobile-message-page.html">
                      <div class="menu-option">
                        我有話要說.
                        <div class="hover-line"></div>
                      </div>
                    </a>
                  </li>
                  <li>
                    <a href="mobile-an-ti-bullying-information.html">
                      <div class="menu-option">
                        反霸凌資訊.
                        <div class="hover-line"></div>
                      </div>
                    </a>
                  </li>
                  <li>
                    <a href="mobile-reference.html">
                      <div class="menu-option">
                        引用資料.
                        <div class="hover-line"></div>
                      </div>
                    </a>
                  </li>
                  <li>
                    <a href="mobile-about-us.html">
                      <div class="menu-option">
                        關於我們.
                        <div class="hover-line"></div>
                      </div>
                    </a>
                  </li>
                  <li>
                    <div class="border"></div>
                  </li>
                </ul>
                <div class="pen-layout position-absolute" style="bottom: -50px; right: -100px; width: 25vw;">
                  <div class="pen-image">
                    <img src="image/all-need-to-use/menu-pen.png" style="width: 100%;">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>
  </div>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="	https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script> <!--menu need-->
  <script src="js/menu.js"></script> <!--menu need-->
  <script src="./mobile-version/mobile-rotate.js"></script>
  <script src="./mobile-version/mobile-interact.js"></script>

  <script>
    openMenu();
    closeMenu();
    // 點擊音效開關按鈕時切換音效狀態
    document.getElementById('audioToggle').addEventListener('click', toggleAudio);
    gsap.registerPlugin(ScrollTrigger);

    //思敏圓圈放大
    function circleScale() {
      const circleTrigger = document.querySelector(".circle-scale-effect");

      let circleAnima = gsap.timeline({
        scrollTrigger: {
          trigger: circleTrigger,
          start: "top center",
          end: "bottom center",
          scrub: true,
          // markers: true,
          // toggleActions: 'play none none reverse'
        }
      });

      circleAnima.to('.circle', {
        attr: { r: 1800 },
      });
    }

    //parallax-scroll
    function parallaxScroll() {
      let postsSection = document.querySelector('#parallax-effect-trigger');
      gsap.to("[data-speed]", {
        y: (i, el) => (-1 * parseFloat(el.getAttribute("data-speed"))) * (postsSection.offsetHeight / 3),
        ease: "none",
        scrollTrigger: {
          trigger: postsSection,
          invalidateOnRefresh: true,
          scrub: 0.1,
          // markers: true,
          start: 'top bottom'
        }
      });
    }

    //pop-effext
    function popEffect() {
      let isAnimating = false;

      const trigger = ScrollTrigger.create({
        trigger: ".pop-effect",
        start: "top top",
        end: "bottom top",
        onUpdate: (self) => {
          if (!isAnimating) {
            isAnimating = true;

            gsap.to(".pop-effect", {
              scale: 1.05,
              duration: 0.5,
              ease: "circ.out",
              // markers: true,
              onComplete: () => {
                gsap.to(".pop-effect", {
                  scale: 1,
                  duration: 0.5,
                  ease: "circ.out",
                  // markers: true,
                  onComplete: () => {
                    isAnimating = false;
                  },
                });
              },
            });
          }
        },
      });

      // 滾動事件監聽
      window.addEventListener("wheel", () => {
        // 滾動時，更新 ScrollTrigger
        trigger.update();
      });
    }

    circleScale();
    parallaxScroll();
    popEffect();

  </script>



</body>

</html>
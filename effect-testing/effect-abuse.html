<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>罵人文字滾動效果測試</title>
  <!--Bootstrap CSS-->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css">

  <style>
    body {
      margin: 0;
      background-color: rgb(241, 208, 208);
      font-weight: bold;
    }
  
    .abuse-effect{
      height: 200vh;
    }
  
    .container{
      height: 50vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }
  
    svg{
      /* overflow: visible; */
      width: 100%;
    }
  
    textPath{
      fill: rgb(112, 73, 243);
      font-size: 1.5rem;
    }

    .abuse-area{
      height: 50vh;
      background-color: #272727;
    }

    .abuse-pic img{
      height: 100%;
    }
  
  </style>
</head>


<body>

 
  <div class="container">
    <!-- <svg viewBox="0 0 1203 230"xmlns="http://www.w3.org/2000/svg">
      <path id="curve" d="M0.5 64.0002C135.833 -0.333122 471 -70.7998 729 162C900.5 305.5 1114.5 186.5 1202 106" fill="transparent"/>
      <text>
        <textPath id="text-path" href="#curve" startOffset="100%">
          Lorem ipsum dolor sit amet consectetur, adipisicing elit. Nostrum, cupiditate.
        </textPath>
      </text>
    </svg>  -->
  </div>
 
  <div class="abuse-effect">
    <div class="pin">
      <div class="abuse-area container position-relative">
        <svg viewBox="0 0 1240 174" height="100%" xmlns="http://www.w3.org/2000/svg" class="position-absolute">
          <path id="curve-1" d="M0.5 126C174 11 223.5 200.5 462.5 169C765.76 105.067 964.5 -74.5 1239.5 36" fill="transparent"/>
          <text>
            <textPath id="text-path-1" href="#curve-1" startOffset="70%">
              中文試試看111111111Lorem ipsum dolor sit amet consectetur, adipisicing elit.
            </textPath>
          </text>
        </svg> 
        <svg viewBox="0 0 1202 157" height="100%" xmlns="http://www.w3.org/2000/svg" class="position-absolute">
          <path id="curve-2" d="M0.5 84.9999C207.5 -14 413.7 -34.9 644.5 71.5C892.5 177.5 1056.5 175 1201 112" fill="transparent"/>
          <text>
            <textPath id="text-path-2" href="#curve-2" startOffset="70%">
              2222222222 dolor sit amet consectetur, adipisicing elit. Nostrum, cupiditate.
            </textPath>
          </text>
        </svg> 
        <svg viewBox="0 0 1160 229" height="100%" xmlns="http://www.w3.org/2000/svg" class="position-absolute">
          <path id="curve-3" d="M1 150.5C90.1667 188.667 177 231.5 433.5 121C803 -115.5 1017 49 1159 186.5" fill="transparent"/>
          <text>
            <textPath id="text-path-3" href="#curve-3" startOffset="70%">
              333333333 dolor sit amet consectetur, adipisicing elit. Nostrum, cupiditate.
            </textPath>
          </text>
        </svg> 
        <div class="abuse-pic">
          <img src="../image/cockroach/g/abuse-left.png" class="position-absolute" style="left: 0; top: 0;">
          <img src="../image/cockroach/g/abuse-right.png" class="position-absolute" style="right: 0; top: 0;">
        </div>
      </div>
    </div>
    <div class="container">
      <img src="../image/cockroach/g/abuse-look.png" class="w-100">
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
  <script>
    gsap.registerPlugin(ScrollTrigger);

    const pinParent = document.querySelector(".pin");
    const textPaths = gsap.utils.toArray("[id^='text-path-']"); // 選擇所有以 'text-path-' 開頭的id
    // const textAnimation = gsap.timeline({
    //   scrollTrigger: {
    //     trigger: ".abuse-area",
    //     start: "top top",
    //     end: "bottom top",
    //     scrub: true,
    //     pin: pinParent,
    //     pinSpacing: false,
    //     markers: true,
    //   }
    // });

    const textAnimation2 = gsap.to(textPaths, {
      attr: { startOffset: "0%" },
      ease: "power2.inOut",
      scrollTrigger: {
        trigger: ".abuse-area",
        start: "top top+=10%",
        end: "bottom top+=10%",
        scrub: true,
        pin: pinParent,
        // pinSpacing: false,
        markers: true,
      },
    });

    console.log(textPaths);

    // textPaths.forEach((textPath) => {
    //   textAnimation.to(textPath, { attr: { startOffset: "0%" }, ease: "power2.inOut" });
    // });
  
  
  </script>
  
</body>
</html>
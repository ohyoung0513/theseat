<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>蟑螂後綠線</title>
  <!--Bootstrap CSS-->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css">
  <style>
    body {
      font-weight: bold;
    }

    .comic-bg{
      height: 100vh;
      width: 100vw;
      overflow: hidden;
      background-image: url(image/all-need-to-use/content-comic-bg.png);
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center center;
      position: fixed;
      z-index: -100;
    }
  
    textPath{
      fill: rgb(255, 255, 255);
      font-size: 1.5rem;
    }

    .abuse-area{
      width: 100%;
      height: 50vh;
      background-color: #272727;
    }

    .abuse-area svg{
      overflow: hidden;
    }
  </style>
</head>

<body>
  <div class="comic-bg"></div>
  <div class="abuse-effect">
    <div class="pin">
      <div class="abuse-area container position-relative">
        <svg viewBox="0 0 1240 174" height="100%" width="100%" xmlns="http://www.w3.org/2000/svg" class="position-absolute">
          <path id="curve-1" d="M0.5 126C174 11 223.5 200.5 462.5 169C765.76 105.067 964.5 -74.5 1239.5 36" fill="transparent"/>
          <text>
            <textPath id="text-path-1" href="#curve-1" startOffset="70%">
              從以前到現在我就覺得你衛生習慣很差，這次好了吧！直接證實我的猜想。
            </textPath>
          </text>
        </svg> 
        <svg viewBox="0 0 1202 157" height="100%" width="100%" xmlns="http://www.w3.org/2000/svg" class="position-absolute">
          <path id="curve-2" d="M0.5 84.9999C207.5 -14 413.7 -34.9 644.5 71.5C892.5 177.5 1056.5 175 1201 112" fill="transparent"/>
          <text>
            <textPath id="text-path-2" href="#curve-2" startOffset="70%">
              那隻蟑螂那麼肥那麼大隻，該不會在抽屜裡當寵物在養吧，真噁心人！
            </textPath>
          </text>
        </svg> 
        <svg viewBox="0 0 1160 229" height="100%" width="100%" xmlns="http://www.w3.org/2000/svg" class="position-absolute">
          <path id="curve-3" d="M1 150.5C90.1667 188.667 177 231.5 433.5 121C803 -115.5 1017 49 1159 186.5" fill="transparent"/>
          <text>
            <textPath id="text-path-3" href="#curve-3" startOffset="70%">
              拜託你能不能乾淨一點！哪天我的座位也有蟑螂怎麼辦！我真的很怕蟑螂！
            </textPath>
          </text>
        </svg> 
        <div class="abuse-pic">
          <img src="image/cockroach/g/abuse-left.png" class="position-absolute" style="left: 0; top: 0; height: 100%;">
          <img src="image/cockroach/g/abuse-right.png" class="position-absolute" style="right: 0; top: 0; height: 100%;">
        </div>
      </div>
    </div>
    <div class="abuse-look container">
      <div class="col-12">
        <img src="image/cockroach/g/abuse-look.png" class="w-100">
      </div>
    </div>
  </div>
  <div class="back-story container">
    <div class="col-12">
      <img src="image/cockroach/g/back.png" class="w-100">
    </div>
  </div>

  <script src="	https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

  <script>
    gsap.registerPlugin(ScrollTrigger);

    function textAnimation(){
      const pinParent = document.querySelector(".pin");
      const textPaths = gsap.utils.toArray("[id^='text-path-']"); // 選擇所有以 'text-path-' 開頭的id

      const textAnimation2 = gsap.to(textPaths, {
        attr: { startOffset: "0%" },
        ease: "power2.inOut",
        scrollTrigger: {
          trigger: ".abuse-area",
          start: "top top+=10%",
          end: "bottom top+=10%",
          scrub: true,
          pin: pinParent,
          // pinSpacing: false,
          // markers: true,
        },
      });

      console.log(textPaths);
    }

    textAnimation();



  </script>
</body>
</html>